# Village Builder Game

Простая градостроительная игра на Phaser.js с системой рабочих, зданий и ресурсов.

## Возможности

- **Сетка 100x100** для строительства
- **Система рабочих** с state machine (IDLE, PRODUCING, CARRYING, RETURNING)
- **Поиск путей** с помощью EasyStar.js - рабочие обходят здания
- **Здания:**
  - Замок (центр деревни)
  - Склад (хранение ресурсов)
  - Очаг (место появления рабочих)
  - Теплица (производство помидоров за 2 секунды)
- **UI:**
  - Отображение ресурсов сверху
  - Контроль скорости игры (x1, x2, x3, x5, x7)
  - Панель строительства снизу

## Архитектура

### Менеджеры
- `GridManager` - управление сеткой и проверка свободных клеток
- `PathfindingManager` - интеграция EasyStar.js для поиска путей
- `ResourceManager` - учет ресурсов
- `BuildingManager` - управление зданиями
- `WorkerManager` - управление рабочими
- `UIManager` - интерфейс игры

### Сущности
- `Building` - базовый класс для зданий
- `Castle`, `Storage`, `Campfire`, `Greenhouse` - конкретные типы зданий
- `Worker` - рабочий с state machine

## Запуск

1. Установить зависимости:
```bash
npm install
```

2. Запустить сервер:
```bash
npm start
```

3. Открыть браузер:
```
http://localhost:8000
```

## Как играть

1. При запуске у вас есть 5 рабочих около очага
2. Нажмите на кнопку "Теплица" снизу, чтобы построить теплицу
3. Свободный рабочий автоматически привяжется к теплице
4. Рабочий начнет производить помидоры и носить их на склад
5. Используйте кнопки x1, x2, x3, x5, x7 для изменения скорости игры

## Цикл работы рабочего

1. **PRODUCING** - рабочий ждет, пока ресурс вырастет в здании
2. **CARRYING_TO_STORAGE** - несет ресурс на склад
3. **RETURNING_TO_BUILDING** - возвращается в здание
4. Повторяется с шага 1

## Расширение

Архитектура спроектирована для легкого добавления:
- Новых типов зданий (наследуйте от `Building`)
- Новых типов ресурсов (добавьте в `CONSTANTS.RESOURCE_TYPES`)
- Новых состояний рабочих (добавьте в state machine)
